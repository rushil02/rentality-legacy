{"version":3,"sources":["webpack:///./src/houseListing/views/forms/FormCommon.css","webpack:///./src/houseListing/views/forms/cancellationPolicy/CancellationPolicy.css","webpack:///./src/houseListing/views/forms/FormCommon.css?3f61","webpack:///./src/houseListing/views/forms/cancellationPolicy/CancellationPolicy.css?713e","webpack:///./src/houseListing/views/forms/cancellationPolicy/CancellationPolicyContainer.js"],"names":["CancellationPolicyContainer","props","formID","sync","getCancellationPolicies","houseUUID","then","result","setState","prevState","data","onPolicyUpdate","obj","that","postCancellationPolicy","house","_silentUpdate","getData","navContext","updateFormState","error","onSave","e","stopPropagation","Promise","resolve","reject","state","APIModelListAdapter","CancellationPolicy","House","cache","undefined","mainDataCache","loadForm","status","getHouseData","updateStoreObject","unloadForm","commonStyles","pageTitle","getObjectList","map","item","toString","marginTop","Component","CancellationPolicyComponent","marginBottom","objRef","isSelected","preventDefault","onChange","fontWeight","color","styles","description","moreInfo","moreInfoLink","reverse","routes","howItWorks"],"mappings":"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","file":"21.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"._27ruxPq0KQM3SyR5f456h1 {\\n    font-size: 20px;\\n    font-weight: 700;\\n    color: #000000;\\n    margin-top: 50px;\\n    margin-bottom: 50px;\\n}\\n\\n._27ruxPq0KQM3SyR5f456h1 i {\\n    background-image: url('/static/image/popover.svg');\\n    background-repeat: no-repeat;\\n    background-position: center right;\\n    margin-left: 30px;\\n    width: 16px;\\n    height: 16px;\\n    cursor: alias;\\n    font-style: unset;\\n    margin-bottom: -4px;\\n    font-size: 13px;\\n    font-weight: 400;\\n    color: #8f8f8f;\\n    padding-right: 26px;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"pageTitle\": \"_27ruxPq0KQM3SyR5f456h1\"\n};","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"div._2kiY0_x87YdGxg5bhP3khk {\\n    position: relative;\\n    margin-bottom: 60px;\\n}\\n\\na._1fnZAPgTsubZ2-4XKaoNY_ {\\n    position: relative;\\n    color: #676767;\\n    float: right;\\n}\\n\\np._200aW14cw_6dBniPaQSGVv {\\n    font-size: 15px;\\n    font-weight: 400;\\n    color: #676767;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"moreInfo\": \"_2kiY0_x87YdGxg5bhP3khk\",\n\t\"moreInfoLink\": \"_1fnZAPgTsubZ2-4XKaoNY_\",\n\t\"description\": \"_200aW14cw_6dBniPaQSGVv\"\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./CancellationPolicy.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./CancellationPolicy.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./CancellationPolicy.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, {Component} from 'react';\nimport {reverse} from 'named-urls';\nimport routes from \"routes\";\nimport {APIModelListAdapter} from \"core/utils/ModelHelper\";\nimport {CancellationPolicy, House, Rule} from \"houseListing/models\";\nimport {getCancellationPolicies, getHouseData, postCancellationPolicy} from \"houseListing/services\";\n\nimport styles from \"./CancellationPolicy.css\";\nimport commonStyles from \"../FormCommon.css\";\n\n\nexport default class CancellationPolicyContainer extends Component {\n    formID = 6;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: new APIModelListAdapter([], CancellationPolicy, 'uuid', 'empty'),\n            house: new House({}, 'empty'),\n        };\n\n        if (props.cache.data !== undefined) {\n            this.state.data = props.cache.data;\n        }\n        if (props.mainDataCache.data !== undefined) {\n            this.state.house = props.mainDataCache.data;\n        }\n\n    }\n\n    componentDidMount() {\n        this.props.navContext.data.loadForm(this.formID, this.onSave, 'saved', \"Cancellation Policy\");\n        this.props.navContext.sync();\n\n        if (this.state.data.status === 'empty') {\n            this.sync()\n        }\n\n        if (this.state.house.status === 'empty') {\n            // Fetch house details\n            getHouseData(this.props.houseUUID)\n                .then(result => {\n                    this.setState(prevState => (\n                        {\n                            ...prevState,\n                            house: result,\n                        })\n                    );\n                });\n        }\n\n    };\n\n    sync = () => {\n        getCancellationPolicies(this.props.houseUUID)\n            .then(result => {\n                this.setState(prevState => (\n                    {\n                        ...prevState,\n                        data: result,\n                    })\n                );\n            });\n    };\n\n    onPolicyUpdate = (obj) => {\n        const that = this;\n        postCancellationPolicy(that.props.houseUUID, obj)\n            .then(() => {\n                that.setState(prevState => (\n                    {\n                        ...prevState,\n                        house: prevState.house._silentUpdate('cancellationPolicyID', obj.getData('objID')),\n                    })\n                );\n                that.props.navContext.data.updateFormState(that.formID, 'saved');\n                that.props.navContext.sync();\n            })\n            .catch(error => {\n                that.props.navContext.data.updateFormState(that.formID, 'error');\n                that.props.navContext.sync();\n            });\n    };\n\n\n    componentWillUnmount() {\n        this.props.cache.updateStoreObject('mainData', () => this.state.house);\n        this.props.cache.updateStoreObject('canPolicyData', () => this.state.data);\n        this.props.navContext.data.unloadForm();\n    }\n\n\n    onSave = (e) => {\n        e.stopPropagation();\n        return new Promise(function (resolve, reject) {\n            resolve()\n        })\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                <div id=\"form-3\">\n                    <div className=\"row\">\n                        <div className=\"col-md-1\"/>\n                        <div className=\"col-md-10\">\n                            <h1 className={commonStyles.pageTitle}>Which Cancellation Policy would you like to opt\n                                for?</h1>\n                            <div className=\"paragraph\">\n                                {this.state.data.getObjectList().map((item) =>\n                                    <CancellationPolicyComponent\n                                        data={item[1]} key={item[0].toString()}\n                                        onChange={this.onPolicyUpdate} objRef={item[0]}\n                                        isSelected={this.state.house.getData('cancellationPolicyID') === item[1].getData('objID')}\n                                    />\n                                )}\n                            </div>\n                            <div className=\"col-md-1\"/>\n                            <div className=\"col-md-12\" style={{marginTop: \"50px\"}}>\n                                <p><b>Please note: The tenant is allowed to cancel the booking without penalty within 24\n                                    hours of the\n                                    booking being approved by the homeowner. (As required by legislation)</b></p>\n                            </div>\n\n                        </div>\n                        <div className=\"col-md-1\"/>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n\nfunction CancellationPolicyComponent(props) {\n    return (\n        <React.Fragment>\n            <div className=\"checkbox auto-width\">\n                <ul className=\"list-inline\">\n                    <li className=\"list-inline-item\" style={{marginBottom: \"0\"}}>\n                        <div className=\"custom-control custom-checkbox\">\n                            <input type=\"checkbox\" id={`checkbox-${props.objRef}`} className=\"custom-control-input\"\n                                   onChange={(e) => props.isSelected ? e.preventDefault() : props.onChange(props.data)}\n                                   checked={props.isSelected}/>\n                            <label className=\"custom-control-label\" style={{fontWeight: '700', color: '#000000'}}\n                                   htmlFor={`checkbox-${props.objRef}`}>{props.data.getData('verbose')}</label>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n\n            <p className={styles.description}>{props.data.getData('description')}</p>\n            <div className={styles.moreInfo}>\n                <a className={styles.moreInfoLink} target=\"_blank\"\n                   href={props.data.getData('officialPolicy') ? props.data.getData('officialPolicy') : reverse(routes.howItWorks)}>More\n                    Information</a>\n            </div>\n        </React.Fragment>\n    )\n}"],"sourceRoot":""}