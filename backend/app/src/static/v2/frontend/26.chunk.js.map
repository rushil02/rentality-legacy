{"version":3,"sources":["webpack:///./src/houseListing/views/forms/FormCommon.css","webpack:///./src/houseListing/views/forms/FormCommon.css?3f61","webpack:///./src/houseListing/views/forms/funTags/FunTagsContainer.js"],"names":["FunTagsContainer","props","formID","onTagUpdate","objID","value","setState","prevState","data","updateObject","navContext","updateFormState","sync","onTagAdd","input","text","replace","update","PersonalityTag","id","verbose","checked","focus","onSave","e","that","stopPropagation","Promise","resolve","reject","postPersonalityTags","houseUUID","state","then","tagList","error","alertUser","init","stockAlertType","cache","undefined","APIModelListAdapter","loadForm","status","getPersonalityTags","result","updateStoreObject","unloadForm","addField","commonStyles","pageTitle","getObjectList","map","toString","marginTop","key","Component","PersonalityTagCheckbox","getData","onChange","objReference","target"],"mappings":"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","file":"26.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"._27ruxPq0KQM3SyR5f456h1 {\\n    font-size: 20px;\\n    font-weight: 700;\\n    color: #000000;\\n    margin-top: 50px;\\n    margin-bottom: 50px;\\n}\\n\\n._27ruxPq0KQM3SyR5f456h1 i {\\n    background-image: url('/static/image/popover.svg');\\n    background-repeat: no-repeat;\\n    background-position: center right;\\n    margin-left: 30px;\\n    width: 16px;\\n    height: 16px;\\n    cursor: alias;\\n    font-style: unset;\\n    margin-bottom: -4px;\\n    font-size: 13px;\\n    font-weight: 400;\\n    color: #8f8f8f;\\n    padding-right: 26px;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"pageTitle\": \"_27ruxPq0KQM3SyR5f456h1\"\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, {Component} from 'react';\nimport {alertUser} from \"core/alert/Alert\";\nimport {getPersonalityTags, postPersonalityTags} from \"userAccount/services\";\nimport {PersonalityTag} from \"userAccount/models\";\n\nimport {APIModelListAdapter} from \"core/utils/ModelHelper\";\n\nimport commonStyles from \"../FormCommon.css\";\n\n\nexport default class FunTagsContainer extends Component {\n    formID = 10;\n\n    constructor(props) {\n        super(props);\n        if (props.cache.data === undefined) {\n            this.state = {\n                data: new APIModelListAdapter([], PersonalityTag, 'id', 'empty'),\n            };\n        } else {\n            this.state = {\n                data: props.cache.data,\n            };\n        }\n    }\n\n    componentDidMount() {\n        this.props.navContext.data.loadForm(this.formID, this.onSave, 'initial', \"Fun Tags\");\n        if (this.state.data.status === 'empty') {\n            getPersonalityTags(this.props.houseUUID)\n                .then(result => {\n                    this.setState(prevState => (\n                        {\n                            ...prevState,\n                            data: result\n                        })\n                    );\n                    this.props.navContext.data.updateFormState(this.formID, 'saved');\n                    this.props.navContext.sync();\n                });\n        } else {\n            this.props.navContext.data.updateFormState(this.formID, this.state.data.status);\n\n        }\n        this.props.navContext.sync();\n\n    };\n\n    componentWillUnmount() {\n        this.props.cache.updateStoreObject('personalityTagsData', () => this.state.data);\n        this.props.navContext.data.unloadForm();\n    }\n\n\n    onTagUpdate = (objID, value) => {\n        this.setState(prevState => ({\n                ...prevState,\n                data: prevState.data.updateObject(objID, 'checked', value)\n            })\n        );\n        this.props.navContext.data.updateFormState(this.formID, 'hasChanged');\n        this.props.navContext.sync();\n    };\n\n    onTagAdd = (input) => {\n        let text = input.value.replace('#', '');\n        if (text !== \"\") {\n            this.setState(prevState => ({\n                    data: prevState.data.update(new PersonalityTag({\n                        id: null,\n                        verbose: text,\n                        checked: true\n                    }, 'hasChanged'), text)\n                })\n            );\n\n            input.value = \"#\";\n\n            this.props.navContext.data.updateFormState(this.formID, 'hasChanged');\n            this.props.navContext.sync();\n        }\n        input.focus();\n\n    };\n\n\n    onSave = (e) => {\n        const that = this;\n        e.stopPropagation();\n        return new Promise((resolve, reject) => {\n            postPersonalityTags(that.props.houseUUID, that.state.data)\n                .then(tagList => {\n                    that.setState({data: tagList});\n                    that.props.navContext.data.updateFormState(that.formID, 'saved');\n                    that.props.navContext.sync();\n                    resolve(tagList);\n                })\n                .catch(error => {\n                    alertUser.init({stockAlertType: 'unknownError'});\n                    that.props.navContext.data.updateFormState(that.formID, 'error');\n                    that.props.navContext.sync();\n                    reject(error)\n                })\n        })\n\n\n    };\n\n\n    render() {\n        let addField;\n        return (\n            <React.Fragment>\n                <div id=\"form-10\">\n                    <div className=\"row\">\n                        <div className=\"col-md-1\"/>\n                        <div className=\"col-md-10\">\n                            <h1 className={commonStyles.pageTitle}>Select the hashtag that best describes you or your hobbies</h1>\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <div className=\"selection\">\n                                        <div className=\"btn-group btn-group-toggle\">\n                                            {this.state.data.getObjectList().map((data) =>\n                                                <PersonalityTagCheckbox\n                                                    data={data[1]} key={data[0].toString()}\n                                                    onChange={this.onTagUpdate}\n                                                    objReference={data[0]}\n                                                />\n                                            )}\n                                        </div>\n                                        <div className=\"row\" style={{marginTop: \"50px\"}}>\n                                            <div className=\"col-md-6 col-sm-12\">\n                                                <div className=\"input big no-background\">\n                                                    <input type=\"text\" className=\"form-control anything-else\"\n                                                           ref={(input) => {\n                                                               addField = input;\n                                                           }}\n                                                           onKeyPress={(e) => {\n                                                               if (e.key === 'Enter') {\n                                                                   this.onTagAdd(addField)\n                                                               }\n                                                           }}\n                                                           defaultValue=\"#\"\n                                                           placeholder=\"Add other Tags\"/>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-2\">\n                                                <button type=\"submit\" className=\"default-button-style\"\n                                                        onClick={() => this.onTagAdd(addField)}\n                                                > Add\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-1\"/>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n\nfunction PersonalityTagCheckbox(props) {\n    return (\n        <label className={\"btn btn-link\" + (props.data.getData('checked') ? \" active\" : \"\")}>\n            <input type=\"checkbox\" onChange={(e) => {\n                props.onChange(props.objReference, e.target.checked)\n            }} checked={props.data.getData('checked')}\n            />\n            {`#${props.data.getData('verbose')}`}\n        </label>\n    )\n}\n"],"sourceRoot":""}