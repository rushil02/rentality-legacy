{"version":3,"sources":["webpack:///./src/houseListing/views/forms/FormCommon.css","webpack:///./src/houseListing/views/forms/FormCommon.css?3f61","webpack:///./src/houseListing/views/forms/infoForTenants/InfoForTenantsContainer.js"],"names":["InfoForTenantsContainer","props","formID","onFieldChange","field","value","setState","prevState","data","setData","navContext","updateCurrentFormState","sync","onSave","e","stopPropagation","that","Promise","resolve","reject","patchHouseData","houseUUID","state","then","house","updateFormState","cache","undefined","House","loadForm","status","getHouseData","result","updateStoreObject","unloadForm","commonStyles","pageTitle","marginBottom","getData","target","displayErrors","getErrorsForField","Component"],"mappings":"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","file":"27.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"._27ruxPq0KQM3SyR5f456h1 {\\n    font-size: 20px;\\n    font-weight: 700;\\n    color: #000000;\\n    margin-top: 50px;\\n    margin-bottom: 50px;\\n}\\n\\n._27ruxPq0KQM3SyR5f456h1 i {\\n    background-image: url('/static/image/popover.svg');\\n    background-repeat: no-repeat;\\n    background-position: center right;\\n    margin-left: 30px;\\n    width: 16px;\\n    height: 16px;\\n    cursor: alias;\\n    font-style: unset;\\n    margin-bottom: -4px;\\n    font-size: 13px;\\n    font-weight: 400;\\n    color: #8f8f8f;\\n    padding-right: 26px;\\n}\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"pageTitle\": \"_27ruxPq0KQM3SyR5f456h1\"\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!./FormCommon.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, {Component} from 'react';\nimport {House} from \"../../../models\";\nimport {getHouseData, patchHouseData} from \"../../../services\";\n\nimport commonStyles from \"../FormCommon.css\"\nimport {displayErrors} from \"core/UIComponents/helpers\";\n\n\nexport default class InfoForTenantsContainer extends Component {\n    formID = 7;\n\n    constructor(props) {\n        super(props);\n        if (props.cache.data === undefined) {\n            this.state = {\n                data: new House({}, 'empty'),\n            };\n        } else {\n            this.state = {\n                data: props.cache.data,\n            };\n        }\n    }\n\n    componentDidMount() {\n        this.props.navContext.data.loadForm(this.formID, this.onSave, 'initial', \"Information for Guests\");\n\n        if (this.state.data.status === 'empty') {\n            // Fetch house details\n            getHouseData(this.props.houseUUID)\n                .then(result => {\n                    this.setState(prevState => (\n                        {\n                            ...prevState,\n                            data: result,\n                        })\n                    );\n                    this.props.navContext.data.updateFormState(this.formID, 'saved');\n                    this.props.navContext.sync();\n                });\n        } else {\n            this.props.navContext.data.updateFormState(this.formID, this.state.data.status);\n        }\n        this.props.navContext.sync();\n\n    };\n\n    componentWillUnmount() {\n        this.props.cache.updateStoreObject('mainData', () => this.state.data);\n        this.props.navContext.data.unloadForm();\n    }\n\n    onFieldChange = (field, value) => {\n        this.setState(prevState => ({\n            ...prevState,\n            data: prevState.data.setData(field, value)\n        }));\n        this.props.navContext.data.updateCurrentFormState('hasChanged');\n        this.props.navContext.sync();\n    };\n\n    onSave = (e) => {\n        e.stopPropagation();\n        const that = this;\n        return new Promise(function (resolve, reject) {\n            patchHouseData(that.props.houseUUID, that.state.data)\n                .then(house => {\n                    that.setState(prevState => ({\n                        ...prevState,\n                        data: house\n                    }));\n                    that.props.navContext.data.updateFormState(that.formID, 'saved');\n                    that.props.navContext.sync();\n                    resolve(house);\n                })\n                .catch(house => {\n                    that.props.navContext.data.updateFormState(that.formID, 'error');\n                    that.props.navContext.sync();\n                    reject()\n                })\n        })\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                <div id=\"form-7\" className=\"form-series\">\n                    <div className=\"row\">\n                        <div className=\"col-md-1\"/>\n                        <div className=\"col-md-10\">\n                            <h1 className={commonStyles.pageTitle} style={{marginBottom: '20px'}}>What is your home like?</h1>\n                            <div className=\"black-textarea\">\n                                <div className=\"row\">\n                                    <div className=\"col-md-9 col-lg-9 col-xl-6\">\n                                        <div className=\"textarea\">\n                                            <textarea name=\"main-form-description\" rows=\"10\" cols=\"40\"\n                                                      className=\"form-control\" id=\"id_main-form-description\"\n                                                      placeholder=\"Describe your house for guests.\"\n                                                      value={this.state.data.getData('description')}\n                                                      onChange={(e) => this.onFieldChange('description', e.target.value)}\n                                            />\n                                            {displayErrors(this.state.data.getErrorsForField('description'))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <h1 className={commonStyles.pageTitle} style={{marginBottom: '20px'}}>Are there other people living in the\n                                house ?</h1>\n                            <div className=\"black-textarea\">\n                                <p>If Yes, What are they like ?</p>\n                                <div className=\"row\">\n                                    <div className=\"col-md-9 col-lg-9 col-xl-6\">\n                                        <div className=\"textarea\">\n                                            <textarea name=\"main-form-other_people_description\" rows=\"6\" cols=\"40\"\n                                                      className=\"form-control\"\n                                                      id=\"id_main-form-other_people_description\"\n                                                      placeholder=\"Examples -&#10;Who are they?&#10;What are they like?&#10;How old are they?&#10;What do they do?\"\n                                                      value={this.state.data.getData('otherPeopleDescription')}\n                                                      onChange={(e) => this.onFieldChange('otherPeopleDescription', e.target.value)}\n                                            />\n                                            {displayErrors(this.state.data.getErrorsForField('otherPeopleDescription'))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <h1 className={commonStyles.pageTitle} style={{marginBottom: '20px'}}>Are there any area restrictions for the\n                                tenant?</h1>\n                            <div className=\"black-textarea\">\n                                <div className=\"row\">\n                                    <div className=\"col-md-9 col-lg-9 col-xl-6\">\n                                        <div className=\"textarea\">\n                                            <textarea name=\"main-form-access_restrictions\" rows=\"9\" cols=\"40\"\n                                                      className=\"form-control\" id=\"id_main-form-access_restrictions\"\n                                                      placeholder=\"Examples -&#10;No acgetErrorcess upstairs.&#10;No access to the garden outside.&#10;No access to the granny flat.&#10;Only assigned bathroom will be accessible.&#10;No access to farm animal without permission.\"\n                                                      value={this.state.data.getData('accessRestrictions')}\n                                                      onChange={(e) => this.onFieldChange('accessRestrictions', e.target.value)}\n                                            />\n                                            {displayErrors(this.state.data.getErrorsForField('accessRestrictions'))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-1\"/>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}"],"sourceRoot":""}